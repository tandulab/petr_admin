import{g as u,d as c,a as d}from"./usetoast.esm96104.js";class g{static async updateTranslation(t){const a=t.id;return delete t.id,(await u(`/translations/${a}`,t)).data}}const p=c({id:"translation",state:()=>({translation:{}}),getters:{getTranslation:s=>s.translation},actions:{async updateTranslation(s){await g.updateTranslation(s).then(t=>this.translation=t)}}}),i=d(),h=()=>i.hideLoader(),m=()=>i.showLoader();function v(s,t){s.add({detail:t.message,life:3e3,severity:t.error?"error":"success",summary:t.error?"Errore":t.title})}const T=function(s,t){const a=Object.values(t.data.errors).join(`
`);v(s,{message:a,error:!0})},f=function(s,t,a){t&&typeof t=="object"&&!(t instanceof Date)&&!(t instanceof File)?Object.keys(t).forEach(e=>{f(s,t[e],a?`${a}[${e}]`:e)}):t!=null&&t!=""&&s.append(a,t)},r=function(s,t,a){s.forEach(e=>{a.append(t,e)})},B=function(s,t,a){if(s.value.tmp_audience){const e=s.value.tmp_audience.target_clusters,n=s.value.tmp_audience.target_group_ids,l=s.value.tmp_audience.target_all;t.append(a+"[target_all]",l),e&&e.length>0&&r(e,a+"[target_clusters][]",t),n&&n.length>0&&r(n,a+"[target_group_ids][]",t)}},F=function(s,t){if(s.value){s.value.tmp_audience={},s.value.tmp_audience.target_all=t.value.target_all;const a=t.value.target_clusters,e=t.value.target_group_ids;a&&(s.value.tmp_audience.target_clusters=a),e&&(s.value.tmp_audience.target_group_ids=e)}},S=function(s,t){s.value&&(t.value.image_url&&(s.value.tmp_image.image_url=t.value.image_url),t.value.video_url&&(s.value.tmp_image.video_url=t.value.video_url))},w=function(s,t){t.value.translations={};for(const a in s.value.translations)t.value.translations[a]={description:s.value.translations[a].description.text,short_description:s.value.translations[a].short_description.text,title:s.value.translations[a].title.text}},x=s=>{if(s===0)return"0 B";const t=1e3,a=3,e=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,n)).toFixed(a))+" "+e[n]},M=function(s,t){for(const a in s.value.translations)o(t.translations[a].description,s.value.translations[a].description.id),o(t.translations[a].short_description,s.value.translations[a].short_description.id),o(t.translations[a].title,s.value.translations[a].title.id)},o=async function(s,t){const a=p();if(!t)return;const e={id:t,text:s};await a.updateTranslation(e).catch(n=>{})},L=s=>s.substring(s.lastIndexOf("/")+1);export{v as a,f as b,B as c,F as d,T as e,S as f,M as g,h,w as i,x as j,L as k,r as l,m as s,o as u};

import{ae as v,a9 as g,m as f}from"./usetoast.esm67435.js";class _{static async updateTranslation(s){const a=s.id;return delete s.id,(await v(`/translations/${a}`,s)).data}}const m=g({id:"translation",state:()=>({translation:{}}),getters:{getTranslation:t=>t.translation},actions:{async updateTranslation(t){await _.updateTranslation(t).then(s=>this.translation=s)}}}),d=f(),b=()=>d.hideLoader(),S=()=>d.showLoader();function h(t,s){t.add({detail:s.message,life:3e3,severity:s.error?"error":"success",summary:s.error?"Errore":s.title})}const L=function(t,s){const a=Object.values(s.data.errors).join(`
`);h(t,{message:a,error:!0})},T=function(t,s,a){s&&typeof s=="object"&&!(s instanceof Date)&&!(s instanceof File)?Object.keys(s).forEach(n=>{T(t,s[n],a?`${a}[${n}]`:n)}):s!=null&&s!=""&&t.append(a,s)},p=function(t,s,a){t&&t.forEach(n=>{a.append(s,n)})},w=function(t,s,a){if(t.value.tmp_audience){const n=t.value.tmp_audience.target_clusters,e=t.value.tmp_audience.target_group_ids,o=t.value.tmp_audience.target_all;s.append(a+"[target_all]",o),n&&n.length>0&&p(n,a+"[target_clusters][]",s),e&&e.length>0&&p(e,a+"[target_group_ids][]",s)}},x=function(t,s){if(t.value){t.value.tmp_audience={},t.value.tmp_audience.target_all=s.value.target_all;const a=s.value.target_clusters,n=s.value.target_group_ids;a&&(t.value.tmp_audience.target_clusters=a),n&&(t.value.tmp_audience.target_group_ids=n)}},A=function(t,s){t.value&&(s.value.image_url&&(t.value.tmp_image.image_url=s.value.image_url),s.value.video_url&&(t.value.tmp_image.video_url=s.value.video_url))},M=function(t,s){s.value.translations={};for(const a in t.value.translations)s.value.translations[a]={description:t.value.translations[a].description?t.value.translations[a].description.text:null,short_description:t.value.translations[a].short_description?t.value.translations[a].short_description.text:null,title:t.value.translations[a].title?t.value.translations[a].title.text:null}},E=t=>{if(t===0)return"0 B";const s=1e3,a=3,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,e)).toFixed(a))+" "+n[e]},k=function(t,s){for(const a in t.value.translations)u(s.translations[a].description,t.value.translations[a].description.id),s.translations[a].short_description&&t.value.translations[a].short_description.id&&u(s.translations[a].short_description,t.value.translations[a].short_description.id),u(s.translations[a].title,t.value.translations[a].title.id)},u=async function(t,s){const a=m();if(!s)return;const n={id:s,text:t};await a.updateTranslation(n).catch(e=>{})},B=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},O=function(t,s){let a="";const n=s.params.year,e=+s.params.quarter,o=s.params.user_id,l=s.params.company,c=s.params.user_name,i=s.params.cluster+"";let r="";s.name=="ranking"?r="sub-ranking":r="ranking",e==0?a="YEAR":a="Q"+e,t.value.push({label:B(i),to:"/"+r+"/"+n+"/"+i+"/"+e}),t.value.push({label:a,to:"/"+r+"/"+n+"/"+i+"/"+e}),o&&l&&t.value.push({label:l+"",to:"/"+r+"/"+n+"/"+i+"/"+e+"/"+o+"/"+l}),c&&t.value.push({label:c+""})},q=t=>t.substring(t.lastIndexOf("/")+1),y=t=>t.toLocaleString(void 0,{minimumFractionDigits:2});export{h as a,T as b,w as c,M as d,L as e,x as f,A as g,b as h,p as i,E as j,q as k,u as l,O as m,y as n,S as s,k as u};

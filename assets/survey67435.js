import{aa as a,ao as n,an as u,ae as y,a9 as i}from"./usetoast.esm67435.js";class t{static async fetchAll(e){return(await a("/surveys",e)).data}static async getSurveyDetail(e){return(await a(`/surveys/${e}`)).data.survey}static async createSurvey(e){return(await n("/surveys",e.formData)).data.survey}static async deleteSurvey(e){return(await u(`/surveys/${e}`)).data}static async updateSurvey(e){return(await n(`/surveys/${e.id}/update`,e.formData)).data.survey}static async deleteAnswer(e){return(await u(`/surveys_answers/${e}`)).data}static async updateAnswer(e){const r=e.id;return delete e.id,(await y(`/translations/${r}`,e)).data}static async getSurveyReport(e){return(await a(`/surveys/${e}/report`)).data}static async changeStatusSurvey(e){e.get("online")?await a(`/surveys/${e.get("survey_id")}/online`):await a(`/surveys/${e.get("survey_id")}/offline`)}static async sendPush(e){return(await a(`/surveys/${e}/send_notification`)).data}}const c=i({id:"survey",state:()=>({survey:{},surveys:[],response_surveys:{},total_surveys:Number,report_survey:{}}),getters:{allSurveys:s=>s.response_surveys.surveys,responseSurveys:s=>s.response_surveys,getTotalSurveys:s=>s.response_surveys?s.response_surveys.total:0,getCurrentSurvey:s=>s.survey,getReportSurvey:s=>s.report_survey},actions:{async fetchAllSurveys(s){await t.fetchAll(s).then(e=>this.response_surveys=e)},async fetchSurveyDetail(s){await t.getSurveyDetail(s).then(e=>this.survey=e)},async fetchSurveyReport(s){await t.getSurveyReport(s).then(e=>this.report_survey=e)},async createSurvey(s){await t.createSurvey(s).then(e=>this.survey=e)},async updateSurvey(s){await t.updateSurvey(s).then(e=>this.survey=e)},async deleteSurvey(s){await t.deleteSurvey(s).then(e=>this.survey=e)},async deleteAnswerFromSurvey(s){await t.deleteAnswer(s).then(e=>this.survey=e)},async updateAnswer(s){await t.updateAnswer(s).then(e=>this.survey=e)},async changeStatusSurvey(s){await t.changeStatusSurvey(s)},async sendPush(s){await t.sendPush(s)}}});export{c as u};

import{r as v,ag as z,n as I,_ as L,b as d,w as T,o as n,h as C,v as k,e as a,f as t,x as f,i,B as F,g as h,l as V,ac as j,k as q,F as w,A as S}from"./usetoast.esm67435.js";import{v as E}from"./runtime-dom.esm-bundler67435.js";import{j as N,s as A,h as U,a as G,e as M}from"./helpers67435.js";import{u as P}from"./UploadImageCard67435.js";const R={props:{title:String,tmp_events:{},submitForm:Boolean,selectedLang:String},setup(_,s){const o=v({}),e=v(!1),p=v();s.expose({tmp_event:o});const m=function(r){if(_.submitForm)return r==""||r==null?e.value=!0:e.value=!1,e.value};return z(()=>_.selectedLang,(r,u)=>{}),I(async()=>{p.value=_.selectedLang+"",o.value=_.tmp_events}),{tmp_event:o,lang:p,validateField:m}}},Y={key:0,class:"flex align-items-center justify-content-between"},H={class:"mb-2"},J={key:1,class:"formgrid grid col-10 px-0"},K={class:"field col-6 flex flex-column"},O={for:"title"},Q={class:"uppercase"},W={key:0,class:"p-error"},X=t("div",{class:"field col-6"},null,-1),Z={class:"field col-6 flex flex-column"},$={class:"uppercase"},ee=t("span",{class:"text-sm font-italic"},"Maximum 210 characters",-1),te={key:0,class:"p-error"},le={class:"field col-6 flex flex-column"},oe={class:"uppercase"},ne=t("span",{class:"ql-formats"},[t("button",{class:"ql-bold"}),t("button",{class:"ql-italic"}),t("button",{class:"ql-underline"}),t("button",{class:"ql-link"})],-1),se={key:0,class:"p-error"};function ae(_,s,o,e,p,m){const r=d("Dropdown"),u=d("InputText"),x=d("Textarea"),y=d("Editor"),g=d("Card");return T((n(),C(g,{class:"mt-4"},{content:k(()=>[e.tmp_event.country?(n(),a("div",Y,[t("h2",H,f(o.title),1),e.tmp_event.country.language_codes&&e.tmp_event.country.language_codes.length>1?(n(),C(r,{key:0,modelValue:e.lang,"onUpdate:modelValue":s[0]||(s[0]=l=>e.lang=l),options:e.tmp_event.country.language_codes,class:"capitalize"},null,8,["modelValue","options"])):i("",!0)])):i("",!0),e.lang&&e.tmp_event.translations?(n(),a("div",J,[t("div",K,[t("label",O,[F("Title* "),t("span",Q,"("+f(e.lang)+")",1)]),h(u,{id:"title",type:"text",modelValue:e.tmp_event.translations[e.lang].title,"onUpdate:modelValue":s[1]||(s[1]=l=>e.tmp_event.translations[e.lang].title=l),class:V({"p-invalid":e.validateField(e.tmp_event.translations[e.lang].title)})},null,8,["modelValue","class"]),e.validateField(e.tmp_event.translations[e.lang].title)?(n(),a("small",W,"Campo obbligatorio.")):i("",!0)]),X,t("div",Z,[t("label",null,[F("Short Description* "),t("span",$,"("+f(e.lang)+")",1)]),h(x,{modelValue:e.tmp_event.translations[e.lang].short_description,"onUpdate:modelValue":s[2]||(s[2]=l=>e.tmp_event.translations[e.lang].short_description=l),style:{height:"142px"},class:V({"p-invalid":e.validateField(e.tmp_event.translations[e.lang].short_description)}),maxlength:"210"},null,8,["modelValue","class"]),ee,e.validateField(e.tmp_event.translations[e.lang].short_description)?(n(),a("small",te,"Campo obbligatorio.")):i("",!0)]),t("div",le,[t("label",null,[F("Description* "),t("span",oe,"("+f(e.lang)+")",1)]),h(y,{modelValue:e.tmp_event.translations[e.lang].description,"onUpdate:modelValue":s[3]||(s[3]=l=>e.tmp_event.translations[e.lang].description=l),editorStyle:"height: 100px",class:V({"p-invalid":e.validateField(e.tmp_event.translations[e.lang].description)})},{toolbar:k(()=>[ne]),_:1},8,["modelValue","class"]),e.validateField(e.tmp_event.translations[e.lang].description)?(n(),a("small",se,"Campo obbligatorio.")):i("",!0)])])):i("",!0)]),_:1},512)),[[E,e.tmp_event.country&&e.lang]])}const qe=L(R,[["render",ae]]),ie={props:{title:String,videoUrl:Boolean},setup(_,s){const o=v(),e=P(),p=j(),m=v(),r=v(),u=v(),x=c=>{m.value=c.files,o.value||(o.value=[])},y=(c,B)=>{c&&(A(),e.deleteAttachment(c).then(()=>{U(),G(p,{message:"File deleted correctly.",title:""}),g(B)}).catch(D=>{U(),M(p,D)}))},g=c=>{o.value.splice(c,1),o.value.length==0&&(o.value=null),r.value.files=[]},l=c=>{m.value.splice(c,1)},b=()=>o.value&&o.value.length>0?10-o.value.length:10;return s.expose({tmp_gallery:o,files:m,fileUpload:r,folder_url:u}),{tmp_gallery:o,files:m,fileUpload:r,folder_url:u,onSelectedFiles:x,deleteImage:y,formatSize:N,deleteGalleryImage:g,deleteFile:l,checkFileLimit:b}}},re={class:"flex align-items-center justify-content-between"},ce={class:"mb-4"},de={class:"flex col-10"},me={class:"col-6 flex-column p-0"},_e={key:0},pe=t("h4",{class:"mb-1 mt-0"},"Pending",-1),ue={class:"flex flex-wrap"},ve={class:"flex align-items-center"},fe=["alt","src"],ge={class:"flex flex-column ml-2",style:{"font-size":"12px"}},he={class:"mb-1"},xe={key:0,class:"mb-1 mt-3"},ye={class:"flex flex-wrap align-items-center"},be={key:0,class:"flex align-items-top image mx-2 my-2"},ke=["src"],we=["onClick"],Fe={key:0,class:"text-center"},Ve=t("b",null,"Drag and drop files to here to upload.",-1),Ce=t("p",{class:"text-xs"},"(You can upload a maximum of 10 images)",-1),Se=[Ve,Ce],Ue={key:0,class:"ml-4 col-5"},Le={class:"field"},Te=t("label",{for:"folder_url"},"Folder Url",-1);function Be(_,s,o,e,p,m){const r=d("Button"),u=d("FileUpload"),x=d("InputText"),y=d("Card"),g=q("tooltip");return n(),C(y,{class:"mt-4"},{content:k(()=>[t("div",re,[t("h2",ce,f(o.title),1)]),t("div",de,[t("div",me,[h(u,{name:"file",url:"https://www.primefaces.org/upload.php",multiple:!0,accept:"image/*",maxFileSize:2e6,id:"logo",modelValue:e.tmp_gallery,"onUpdate:modelValue":s[0]||(s[0]=l=>e.tmp_gallery=l),customUpload:!0,onSelect:e.onSelectedFiles,fileLimit:e.checkFileLimit(),ref:"fileUpload",disabled:e.tmp_gallery&&e.tmp_gallery.length>=10},{content:k(()=>[e.files&&e.files.length>0?(n(),a("div",_e,[pe,t("div",ue,[(n(!0),a(w,null,S(e.files,(l,b)=>(n(),a("div",{key:l.name+l.type+l.size,class:"card m-0 flex border-1 surface-border align-items-center justify-content-between pl-4 pr-3 py-3 w-full my-2"},[t("div",ve,[t("img",{role:"presentation",alt:l.name,src:l.objectURL,width:"50",class:"shadow-2"},null,8,fe),t("div",ge,[t("div",he,f(l.name),1),t("div",null,f(e.formatSize(l.size)),1)])]),h(r,{icon:"pi pi-times",onClick:c=>e.deleteFile(b),class:"p-button p-component p-button-icon-only p-fileupload-file-remove p-button-text p-button-danger p-button-rounded"},null,8,["onClick"])]))),128))])])):i("",!0),e.tmp_gallery&&e.tmp_gallery[0]&&e.tmp_gallery[0].id?(n(),a(w,{key:1},[e.files&&e.files.length>0?(n(),a("h4",xe," Completed ")):i("",!0),t("div",ye,[(n(!0),a(w,null,S(e.tmp_gallery,(l,b)=>(n(),a(w,{key:l.id},[l&&l.url?(n(),a("div",be,[t("img",{role:"presentation",class:"p-fileupload-file-thumbnail h-4rem w-7rem",src:l.url,style:{border:"1px solid rgb(0 0 0 / 6%)"}},null,8,ke),T(t("i",{class:"pi pi-times p-button-icon text-red-600 cursor-pointer font-semibold icon-delete small",onClick:c=>e.deleteImage(l.id,b)},null,8,we),[[g,"Delete",void 0,{top:!0}]])])):i("",!0)],64))),128))])],64)):i("",!0)]),empty:k(()=>[e.tmp_gallery?i("",!0):(n(),a("div",Fe,Se))]),_:1},8,["modelValue","onSelect","fileLimit","disabled"])]),o.videoUrl?(n(),a("div",Ue,[t("div",Le,[Te,h(x,{type:"text",modelValue:e.folder_url,"onUpdate:modelValue":s[1]||(s[1]=l=>e.folder_url=l),class:"w-full"},null,8,["modelValue"])])])):i("",!0)])]),_:1})}const Ee=L(ie,[["render",Be]]);export{qe as E,Ee as G};

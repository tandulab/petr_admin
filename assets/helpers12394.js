import{ai as p,ad as g,p as _}from"./usetoast.esm12394.js";class f{static async updateTranslation(a){const s=a.id;return delete a.id,(await p(`/translations/${s}`,a)).data}}const m=g({id:"translation",state:()=>({translation:{}}),getters:{getTranslation:t=>t.translation},actions:{async updateTranslation(t){await f.updateTranslation(t).then(a=>this.translation=a)}}}),d=_(),S=()=>d.hideLoader(),L=()=>d.showLoader();function h(t,a){t.add({detail:a.message,life:3e3,severity:a.error?"error":"success",summary:a.error?"Errore":a.title})}const w=function(t,a){const s=Object.values(a.data.errors).join(`
`);h(t,{message:s,error:!0})},T=function(t,a,s){a&&typeof a=="object"&&!(a instanceof Date)&&!(a instanceof File)?Object.keys(a).forEach(n=>{T(t,a[n],s?`${s}[${n}]`:n)}):a!=null&&t.append(s,a)},v=function(t,a,s){t&&t.forEach(n=>{s.append(a,n)})},x=function(t,a,s){if(t.value.tmp_audience){const n=t.value.tmp_audience.target_clusters,e=t.value.tmp_audience.target_group_ids,o=t.value.tmp_audience.target_all;a.append(s+"[target_all]",o),n&&n.length>0&&v(n,s+"[target_clusters][]",a),e&&e.length>0&&v(e,s+"[target_group_ids][]",a)}},A=function(t,a){if(t.value){t.value.tmp_audience={},t.value.tmp_audience.target_all=a.value.target_all;const s=a.value.target_clusters,n=a.value.target_group_ids;s&&(t.value.tmp_audience.target_clusters=s),n&&(t.value.tmp_audience.target_group_ids=n)}},M=function(t,a){t.value&&(a.value.image_url&&(t.value.tmp_image.image_url=a.value.image_url),a.value.video_url&&(t.value.tmp_image.video_url=a.value.video_url))},b=function(t,a){t.value&&(a.value.video_url&&(t.value.tmp_video.video_url=a.value.video_url),a.value.video_image_url&&(t.value.tmp_video.video_image_url=a.value.video_image_url))},E=function(t,a){a.value.translations={};for(const s in t.value.translations)a.value.translations[s]={description:t.value.translations[s].description?t.value.translations[s].description.text:null,short_description:t.value.translations[s].short_description?t.value.translations[s].short_description.text:null,title:t.value.translations[s].title?t.value.translations[s].title.text:null}},k=t=>{if(t===0)return"0 B";const a=1e3,s=3,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,e)).toFixed(s))+" "+n[e]},O=function(t,a){var s;for(const n in t.value.translations)u(a.translations[n].description,t.value.translations[n].description.id),a.translations[n].short_description&&t.value.translations[n].short_description.id&&u(a.translations[n].short_description,t.value.translations[n].short_description.id),(s=a.translations[n].title)!=null&&s.id&&u(a.translations[n].title,t.value.translations[n].title.id)},u=async function(t,a){const s=m();if(!a)return;const n={id:a,text:t};await s.updateTranslation(n).catch(e=>{})},B=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},q=function(t,a){let s="";const n=a.params.year,e=+a.params.quarter,o=a.params.user_id,l=a.params.company,c=a.params.user_name,i=a.params.cluster+"";let r="";a.name=="ranking"?r="sub-ranking":r="ranking",e==0?s="YEAR":s="Q"+e,t.value.push({label:B(i),to:"/"+r+"/"+n+"/"+i+"/"+e}),t.value.push({label:s,to:"/"+r+"/"+n+"/"+i+"/"+e}),o&&l&&t.value.push({label:l+"",to:"/"+r+"/"+n+"/"+i+"/"+e+"/"+o+"/"+l}),c&&t.value.push({label:c+""})},y=t=>t.substring(t.lastIndexOf("/")+1),z=t=>t.toLocaleString(void 0,{minimumFractionDigits:2});export{h as a,T as b,x as c,E as d,w as e,A as f,M as g,S as h,v as i,b as j,k,y as l,u as m,q as n,z as o,L as s,O as u};

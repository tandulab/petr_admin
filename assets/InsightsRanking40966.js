import{R as f}from"./RankingTable40966.js";import{ab as k,r as l,p as g,ac as w,n as R,ap as y,_ as x,b as s,o as b,e as B,f as m,g as d,v as C,h as T,i as v}from"./usetoast.esm40966.js";import{m as N,s as L,h,e as j}from"./helpers40966.js";import"./api.esm40966.js";import"./insight40966.js";import"./runtime-dom.esm-bundler40966.js";const E={setup(){k(()=>{N(c,o)});const p=l({icon:"pi pi-home",to:"/dashboard"}),r=l(),c=l([{label:"Ranking"}]),o=g(),_=w(),u=async function(){const n=new Map;r.value.setParams(n);let a=`/insights/download_ranking?year=${n.get("year")}`;n.forEach((e,t)=>{t!="year"&&(a+=`&${t}=${e}`)}),L();try{const e=await y({method:"get",url:a,responseType:"blob"});var i=new Blob([e.data],{type:e.headers["content-type"]});const t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.download="report_ranking.xlsx",t.click(),h()}catch(e){h(),j(_,e)}};return R(async()=>{}),{home:p,items:c,downloadReport:u,rankingTable:r}},components:{RankingTable:f}},V={class:"m-4"},$={class:"flex justify-content-between align-items-center mb-3"},I={class:"flex align-items-start justify-content-between"},M=m("h1",{class:"mb-4 uppercase"},"RANKING",-1);function U(p,r,c,o,_,u){const n=s("Breadcrumb"),a=s("Button"),i=s("RankingTable"),e=s("Card");return b(),B("div",V,[m("div",$,[d(n,{home:o.home,model:o.items,class:"mt-0 p-0"},null,8,["home","model"])]),d(e,null,{content:C(()=>[m("div",I,[M,d(a,{class:"p-button-outlined p-button-secondary",label:"Report",icon:"pi pi-download",onClick:o.downloadReport},null,8,["onClick"])]),o.items?(b(),T(i,{key:0,ref:"rankingTable"},null,512)):v("",!0)]),_:1})])}const z=x(E,[["render",U]]);export{z as default};

import{s as w,h as f,a as U,e as b}from"./helpers96104.js";import{h as y,d as S,e as V}from"./usetoast.esm96104.js";import{r as v,_ as k,a as p,i as C,o as c,g as I,q as u,e as a,t as A,f as x,b as g,w as B,h}from"./_plugin-vue_export-helper96104.js";class D{static async deleteAttachment(t){return(await y(`/attachments/${t}`)).data}}const F=S({id:"attachment",state:()=>({attachment:{}}),getters:{},actions:{async deleteAttachment(i){await D.deleteAttachment(i)}}}),T={props:{title:String,videoUrl:Boolean},setup(i,t){const o=v({}),e=F(),r=V(),m=v(),d=l=>{o.value.image_url={},o.value.image=l.files[0]},_=l=>{l&&(w(),e.deleteAttachment(l).then(()=>{f(),U(r,{message:"File deleted correctly.",title:""}),n()}).catch(s=>{f(),b(r,s)}))},n=()=>{o.value.image=null,o.value.image_url=null,m.value.files=[]};return t.expose({tmp_image:o}),{tmp_image:o,fileUpload:m,deleteTmpImage:n,onSelectedFiles:d,deleteImage:_}}},L={class:"flex align-items-center justify-content-between"},N={class:"mb-4"},z={class:"flex col-10"},M={class:"col-6 flex-column p-0"},R={key:0,class:"flex align-items-top"},j=["src"],q={key:0,class:"text-center"},E=a("b",null,"Drag and drop file to here to upload.",-1),G=a("p",{class:"text-xs"},"(Maximum size 2 MB)",-1),H=[E,G],J={key:0,class:"ml-4 col-5"},K={class:"field"},O=a("label",{for:"video_url"},"Video Url",-1);function P(i,t,o,e,r,m){const d=p("FileUpload"),_=p("InputText"),n=p("Card"),l=C("tooltip");return c(),I(n,{class:"mt-4"},{content:u(()=>[a("div",L,[a("h2",N,A(o.title),1)]),a("div",z,[a("div",M,[x(d,{name:"file",url:"https://www.primefaces.org/upload.php",multiple:!1,accept:"image/*",maxFileSize:2e6,id:"logo",modelValue:e.tmp_image.image,"onUpdate:modelValue":t[1]||(t[1]=s=>e.tmp_image.image=s),customUpload:!0,onSelect:e.onSelectedFiles,onRemove:e.deleteTmpImage,fileLimit:1,ref:"fileUpload"},{content:u(()=>[e.tmp_image.image_url&&e.tmp_image.image_url.url?(c(),g("div",R,[a("img",{role:"presentation",class:"p-fileupload-file-thumbnail h-4rem w-7rem",src:e.tmp_image.image_url.url,style:{border:"1px solid rgb(0 0 0 / 6%)"}},null,8,j),B(a("i",{class:"pi pi-times p-button-icon text-red-600 cursor-pointer font-semibold icon-delete",onClick:t[0]||(t[0]=s=>e.deleteImage(e.tmp_image.image_url.id))},null,512),[[l,"Delete",void 0,{top:!0}]])])):h("",!0)]),empty:u(()=>[e.tmp_image.image_url?h("",!0):(c(),g("div",q,H))]),_:1},8,["modelValue","onSelect","onRemove"])]),o.videoUrl?(c(),g("div",J,[a("div",K,[O,x(_,{type:"text",modelValue:e.tmp_image.video_url,"onUpdate:modelValue":t[2]||(t[2]=s=>e.tmp_image.video_url=s),class:"w-full"},null,8,["modelValue"])])])):h("",!0)])]),_:1})}const Y=k(T,[["render",P]]);export{Y as U,F as u};

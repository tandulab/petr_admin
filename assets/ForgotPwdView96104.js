import{u as w,e as g,r as V}from"./usetoast.esm96104.js";import{u as y,r as C,e as L}from"./index.esm96104.js";import{s as B,h as f,a as P,e as k}from"./helpers96104.js";import{u as T,L as U}from"./sidebar96104.js";import"./country96104.js";import"./product96104.js";import{d as j,ad as x,r as h,m as N,c as q,_ as z,a as r,o as b,b as $,f as n,q as v,e as s,j as E,t as F,h as I}from"./_plugin-vue_export-helper96104.js";import{a as M}from"./runtime-dom.esm-bundler96104.js";const W=j({name:"LoginView",setup(){x(()=>{d.setSidebarVisibility(!1)});const e=w(),t=g(),d=T(),u=h(1),i=N({email:""}),p={email:{required:C,email:L}},a=h(!1),l=y(p,i),m=q(()=>e.user),c=_=>{a.value=!0,_&&(B(),o().then(()=>{f(),P(t,{message:"We sent you an email with the new temporary password.",title:""}),V.push({name:"login"})}).catch(S=>{f(),k(t,S)}))};async function o(){i.email}return{formStep:u,formSubmitted:a,v$:l,currentUser:m,handleSubmit:c}},components:{LogoPetronas:U}}),A={class:"flex justify-content-center align-items-center h-screen"},D={class:"mt-5 text-center"},R=s("h1",{class:"text-center mb-2"},"Forgot password?",-1),G=s("h2",{class:"font-normal mb-4"},"Welcome! Please enter your email.",-1),H={key:0,class:"p-error w-100"},J={class:"mt-2 text-right w-full mb-3"};function K(e,t,d,u,i,p){const a=r("LogoPetronas"),l=r("InputText"),m=r("Button"),c=r("Card");return b(),$("div",A,[n(c,{class:"p-4"},{header:v(()=>[s("div",D,[n(a)])]),content:v(()=>[R,G,s("form",{class:"mt-4 flex flex-column",onSubmit:t[1]||(t[1]=M(o=>e.handleSubmit(!e.v$.$invalid),["prevent"]))},[n(l,{id:"email",class:E({"p-invalid":e.v$.email.$invalid&&e.formSubmitted,"w-100":!0,"mb-1":!0}),placeholder:"Email*",modelValue:e.v$.email.$model,"onUpdate:modelValue":t[0]||(t[0]=o=>e.v$.email.$model=o)},null,8,["class","modelValue"]),e.formSubmitted&&e.v$.email.$errors.length>0?(b(),$("label",H,F(e.v$.email.$errors.map(o=>o.$message).join("<br />")),1)):I("",!0),s("div",J,[n(m,{type:"submit",label:"Send",class:"w-full mt-4 capitalize"})])],32)]),_:1})])}const se=z(W,[["render",K]]);export{se as default};

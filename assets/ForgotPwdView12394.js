import{d as _,o as S,af as g,r as f,t as y,a as V,_ as C,b as r,e as h,f as w,h as n,B as b,g as o,m as L,C as P,j as B}from"./usetoast.esm12394.js";import{u as k,r as T,e as j}from"./index.esm12394.js";import{s as x,h as v,a as N,e as z}from"./helpers12394.js";import{u as E,L as F}from"./sidebar12394.js";import"./country12394.js";import"./product12394.js";import{u as I}from"./user12394.js";import{a as M}from"./runtime-dom.esm-bundler12394.js";const U=_({name:"LoginView",setup(){S(()=>{c.setSidebarVisibility(!1)});const e=I(),s=g(),c=E(),u=f(1),i=y({email:""}),p={email:{required:T,email:j}},a=f(!1),l=k(p,i),m=t=>{a.value=!0,t&&(x(),d().then(()=>{v(),N(s,{message:"We sent you an email with the new temporary password.",title:""}),V.push({name:"login"})}).catch($=>{v(),z(s,$)}))};async function d(){const t={email:i.email};await e.resetPassword(t)}return{formStep:u,formSubmitted:a,v$:l,handleSubmit:m}},components:{LogoPetronas:F}}),W={class:"flex justify-content-center align-items-center h-screen"},q={class:"mt-5 text-center"},D=o("h1",{class:"text-center mb-2"},"Forgot password?",-1),R=o("h2",{class:"font-normal mb-4"},"Welcome! Please enter your email.",-1),A={key:0,class:"p-error w-100"},G={class:"mt-2 text-right w-full mb-3"};function H(e,s,c,u,i,p){const a=r("LogoPetronas"),l=r("InputText"),m=r("Button"),d=r("Card");return h(),w("div",W,[n(d,{class:"p-4",style:{width:"20vw"}},{header:b(()=>[o("div",q,[n(a,{class:"w-7rem"})])]),content:b(()=>[D,R,o("form",{class:"mt-4 flex flex-column",onSubmit:s[1]||(s[1]=M(t=>e.handleSubmit(!e.v$.$invalid),["prevent"]))},[n(l,{id:"email",class:L({"p-invalid":e.v$.email.$invalid&&e.formSubmitted,"w-100":!0,"mb-1":!0}),placeholder:"Email*",modelValue:e.v$.email.$model,"onUpdate:modelValue":s[0]||(s[0]=t=>e.v$.email.$model=t)},null,8,["class","modelValue"]),e.formSubmitted&&e.v$.email.$errors.length>0?(h(),w("label",A,P(e.v$.email.$errors.map(t=>t.$message).join("<br />")),1)):B("",!0),o("div",G,[n(m,{type:"submit",label:"Send",class:"w-full mt-4 capitalize"})])],32)]),_:1})])}const te=C(U,[["render",H]]);export{te as default};

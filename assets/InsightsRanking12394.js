import{R as f}from"./RankingTable12394.js";import{o as g,r as l,q as k,af as w,n as R,ag as y,_ as B,b as s,e as h,f as x,g as m,h as d,B as C,i as T,j as v}from"./usetoast.esm12394.js";import{n as N,s as j,h as b,e as L}from"./helpers12394.js";import"./api.esm12394.js";import"./insight12394.js";import"./runtime-dom.esm-bundler12394.js";const E={setup(){g(()=>{N(c,o)});const p=l({icon:"pi pi-home",to:"/dashboard"}),r=l(),c=l([{label:"Ranking"}]),o=k(),_=w(),u=async function(){const n=new Map;r.value.setParams(n);let a=`/insights/download_ranking?year=${n.get("year")}`;n.forEach((e,t)=>{t!="year"&&(a+=`&${t}=${e}`)}),j();try{const e=await y({method:"get",url:a,responseType:"blob"});var i=new Blob([e.data],{type:e.headers["content-type"]});const t=document.createElement("a");t.href=window.URL.createObjectURL(i),t.download="report_ranking.xlsx",t.click(),b()}catch(e){b(),L(_,e)}};return R(async()=>{}),{home:p,items:c,downloadReport:u,rankingTable:r}},components:{RankingTable:f}},V={class:"m-4"},$={class:"flex justify-content-between align-items-center mb-3"},q={class:"flex align-items-start justify-content-between"},I=m("h1",{class:"mb-4 uppercase"},"RANKING",-1);function M(p,r,c,o,_,u){const n=s("Breadcrumb"),a=s("Button"),i=s("RankingTable"),e=s("Card");return h(),x("div",V,[m("div",$,[d(n,{home:o.home,model:o.items,class:"mt-0 p-0"},null,8,["home","model"])]),d(e,null,{content:C(()=>[m("div",q,[I,d(a,{class:"p-button-outlined p-button-secondary",label:"Report",icon:"pi pi-download",onClick:o.downloadReport},null,8,["onClick"])]),o.items?(h(),T(i,{key:0,ref:"rankingTable"},null,512)):v("",!0)]),_:1})])}const z=B(E,[["render",M]]);export{z as default};
